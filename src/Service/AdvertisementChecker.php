<?php

namespace Tourze\ProductCoreBundle\Service;

use Tourze\ProductCoreBundle\Exception\AdvertisementLimitException;

/**
 * 广告法
 * 确保电商业务符合 https://baike.baidu.com/item/%E4%B8%AD%E5%8D%8E%E4%BA%BA%E6%B0%91%E5%85%B1%E5%92%8C%E5%9B%BD%E5%B9%BF%E5%91%8A%E6%B3%95
 */
final class AdvertisementChecker
{
    /**
     * @var array<string>
     */
    public static array $limitWords = [
        '销量第一',
        '销量最高',
        '服务最好',
        '质量最优',
        '秒杀全网',
        '全网第一',
        '全网最优',
        '质量最好',
        '全网底价',
        '类目底价',
        '同行底价',
        '顶级',
        '价格最低',
        '口碑最好',
        '最便宜',
        '服务第一',
        '效果最好',
        '第一品牌',
        '驰名商标',
        '京东价格最低',
        '京东最强',
        '京东最新',
        '京东最大',
        '京东品质最好',
        '京东最便宜',
        '京东冠军',
        '京东最高',
        '京东抄底',
        '京东第',
        '京东最正宗',
        '京东最新鲜',
        '京东最极致',
        '京东质量最好',
        '京东第一',
        '淘宝价格最低',
        '淘宝最强',
        '淘宝最新',
        '淘宝最大',
        '淘宝品质最好',
        '淘宝最便宜',
        '淘宝冠军',
        '淘宝最高',
        '淘宝抄底',
        '淘宝第',
        '淘宝最正宗',
        '淘宝最新鲜',
        '淘宝最极致',
        '淘宝质量最好',
        '淘宝第一',
        '冠军',
        '天猫价格最低',
        '天猫最强',
        '天猫最新',
        '天猫最大',
        '天猫品质最好',
        '天猫最便宜',
        '天猫冠军',
        '天猫最高',
        '天猫抄底',
        '天猫第',
        '天猫最正宗',
        '天猫最新鲜',
        '天猫最极致',
        '天猫质量最好',
        '天猫第一',
        '国际最热销',
        '国际最强',
        '国际规模最大',
        '国际服务第一',
        '顶级品牌',
        '顶级广告支持',
        '最佳雇主',
        '韩国最热卖',
        '韩国销量第一',
        '质量第一',
        '欧美最热卖',
        '欧美销量第一',
        '世界最低价',
        '行业最热卖',
        '行业销量第一',
        '行业最低价',
        '品质最好',
        '品质最牛',
        '品质最优',
        '品质最强',
        '同行人气第一',
        '同行销量第一',
        '口碑第一',
        '口碑顶级',
        '全网价格最低',
        '全网最强',
        '全网最新',
        '全网最大',
        '全网品质最好',
        '全网最便宜',
        '全网冠军',
        '全网最高',
        '全网首家',
        '全网抄底',
        '全网最实惠',
        '全网最专业',
        '全网最时尚',
        '全网最受欢迎',
        '全网第',
        '全网最火',
        '全网最安全',
        '全网之冠',
        '全网之王',
        '全网最正宗',
        '全网最新鲜',
        '全网最极致',
        '全网质量最好',
        '全球最热销',
        '全球最强',
        '全球规模最大',
        '全球服务第一',
        '国内最热销',
        '国内最强',
        '国内规模最大',
        '国内服务第一',
        '世界最热销',
        '世界第一',
        '世界最强',
        '世界规模最大',
        '世界服务第一',
        '顶尖品牌',
        '亚洲销量冠军',
        '全网销量冠军',
        '全网销量第一',
        '全网最低价',
        '全网最热卖',
        '全网销量最高',
        '全球第一',
        '亚洲第一',
        '欧美第一',
        '全网人气第一',
        '同行第一',
        '同行最好',
        '领导品牌',
        '顶尖技术',
        '首个',
        '首家',
        '金牌',
        '独家',
        '全球首发',
        '全网首发',
        '领先',
        '最先',
        '著名商标，优秀',
        '掌门人',
        '超赚',
        '巨星',
        '奢侈',
        '高档',
        '最佳',
        '最具',
        '最爱',
        '最赚',
        '最优',
        '最优秀',
        '最好',
        '最大',
        '最大程度',
        '最高',
        '最高级',
        '最高端',
        '最奢侈',
        '最低',
        '最低级',
        '最低价',
        '最底',
        '史上最低价',
        '最流行',
        '最受欢迎',
        '最时尚',
        '最聚拢',
        '最符合',
        '最舒适',
        '最先进',
        '最先进科学',
        '最后',
        '最新',
        '最新技术',
        '最新科学',
        '第1',
        '第一',
        '中国第一',
        '排名第一',
        '唯一',
        'NO.1',
        'TOP1',
        '独一无二',
        '全国第一',
        '遗留',
        '一天',
        '仅此一次',
        '仅此一款',
        '最后一波',
        '全国二大品牌之一',
        '全国两大品牌之一',
        '全国三大品牌之一',
        '全国四大品牌之一',
        '全国五大品牌之一',
        '全国六大品牌之一',
        '全国七大品牌之一',
        '全国八大品牌之一',
        '全国九大品牌之一',
        '全国十大品牌之一',
        '销冠',
        '国家级',
        '国际级',
        '世界级',
        '千万级',
        '百万级',
        '星级',
        '5A',
        '甲级',
        '超甲级',
        '顶尖',
        '尖端',
        '顶级享受',
        '高级',
        '极品',
        '极佳',
        '绝佳',
        '绝对',
        '终极',
        '极致',
        '致极',
        '极具',
        '完美',
        '至尊',
        '至臻',
        '臻品',
        '臻致',
        '臻席',
        '压轴',
        '问鼎',
        '空前',
        '绝后',
        '绝版',
        '无双',
        '非此莫属',
        '巅峰',
        '前所未有',
        '无人能及',
        '鼎级',
        '鼎冠',
        '定鼎',
        '翘楚之作',
        '不可再生',
        '不可复制',
        '绝无仅有',
        '寸土寸金',
        '淋漓尽致',
        '无与伦比',
        '卓越',
        '卓著',
        '前无古人后无来者',
        '珍稀',
        '臻稀',
        '稀少',
        '绝不在有',
        '稀世珍宝',
        '千金难求',
        '世所罕见',
        '不可多得',
        '空前绝后',
        '寥寥无几',
        '屈指可数',
        '独创',
        '独据',
        '开发者',
        '缔造者',
        '创始者',
        '发明者',
        '首选',
        '首发',
        '首席',
        '首府',
        '首屈一指',
        '全国首家',
        '国家领导人',
        '国门',
        '国宅',
        '首次',
        '填补国内空白',
        '国际品质',
        '黄金旺铺',
        '黄金价值',
        '黄金地段',
        '外国货币',
        '大牌',
        '名牌',
        '王牌',
        '领先上市',
        '著名',
        '之王',
        '之皇',
        '王者楼王',
        '墅王',
        '皇家',
        '世界领先',
        '遥遥',
        '领导者',
        '领袖',
        '引领',
        '创领',
        '领航',
        '耀领',
        '史无前例',
        '前无古人',
        '永久',
        '万能',
        '百分之百',
        '特供',
        '专供',
        '专家推荐',
        '国家领导人推荐',
        '点击领奖',
        '恭喜获奖',
        '全民免单',
        '点击有惊喜',
        '点击获取',
        '点击转身',
        '领取奖品',
        '抽奖',
        '售罄',
        '售空',
        '再不抢就没了',
        '不会再便宜',
        '没有他就',
        '错过不再',
        '错过即无',
        '错过就没机会了',
        '未曾有过的',
        '万人疯抢',
        '全民疯抢',
        '抢购',
        '免费领',
        '免费住',
        '0首付',
        '免首付',
        '零距离',
        '价格你来定',
        '升学',
        '教育护航',
        '九年制教育',
        '一站式教育',
        '入住学区房',
        '优先入学',
        '12年教育无忧',
        '全程无忧',
        '让孩子赢在起跑线上',
        '承诺户口',
        '蓝印户口',
        '承诺移民',
        '买个房啥都解决了',
        '上风上水',
        '聚财纳气',
        '宝地',
        '圣地',
        '府邸',
        '龙脉',
        '贵脉',
        '龙脉之地',
        '风水宝地',
        '天人合一',
        '上等上',
        '堪舆',
        '帝都',
        '皇城',
        '皇室领地',
        '皇室',
        '皇族',
        '殿堂',
        '白宫',
        '王府',
        '皇室住所',
        '政府机关',
        '行政大楼',
        '使馆',
        '境线',
        '贵族',
        '高贵',
        '隐贵',
        '上流',
        '层峰',
        '富人区',
        '名门',
        '阶层',
        '阶级',
        '冬奥会',
        '奥林匹克运动会',
        '世界杯',
        '双十一',
        '升值价值',
        '价值洼地',
        '价值天成',
        '千亿价值',
        '投资回报',
        '众筹',
        '抄涨',
        '炒股不如买房',
        '升值潜力',
        '买到即赚到',
        '得房率',
        '热销',
        '绿化率',
        '容积率',
        '位业主',
        '直达家门口',
        '地铁上盖',
        '咫尺地铁站',
        '万亩公园',
        '几大商场环绕',
        '万达在旁',
        '机场辐射区',
        '超市',
        '商场',
        '学校',
        '医院等名称',
        '条地铁',
        '条公交',
        '地铁旁',
        'CBD坐标',
        'CBD核心',
        '城市核心地段',
        '你在城心',
        '中央',
        '中心',
        '重心',
        '中枢',
        '重点',
        '腹地',
        '地标',
        '城市中央',
        '凌驾于世界之上',
        '几天几夜',
        '倒计时',
        '趁现在',
        '就',
        '仅限',
        '周末',
        '周年庆',
        '特惠趴',
        '购物大趴',
        '闪购',
        '品牌团',
        '随时结束',
        '随时涨价',
        '马上降价',
        '精工德式装修',
        '源于百年传承',
        '室内采用',
        '第二',
        '三甲',
        '十强',
        '一流',
        '全国X大品牌之一',
        '最',
        '最高档',
        '最强大',
        '时尚最低价',
        '最先进加工工艺',
        '最先享受',
        '最新科技',
        'TOP.1',
        '国家级产品',
        '全球级',
        '宇宙级',
        '顶级工艺',
        '独家配方',
        '全国首发',
        '网独家',
        '首款',
        '全国销量冠军',
        '国家免检',
        '中国驰名',
        '领袖品牌',
        '创领品牌',
        '着名',
        '资深',
        '王者',
        '祖传',
        '特效',
        '无敌',
        '纯天然',
        '100%',
        '正品',
        '真皮',
        '精准',
        '老字号',
        '中国驰名商标',
        '质量免检',
        '无需国家质量检测',
        '免抽检',
        '点击试穿',
        '点击翻转',
        '秒杀',
        '抢爆',
        '不会更便宜了',
        '没有他就XX',
        '全民疯抢/抢购',
        '卖/抢疯了',
        '在不抢就没啦',
        '错过就没机会',
        '卖疯了',
        '抢疯了',
        '今天',
        '精品团',
        '博士',
        '专家',
        '领导人推荐',
        '机关推荐',
        '军队特供',
        '军队专供',
        '军品',
        '军需特供',
        '军用',
        '最安全',
        '最健康',
        '最廉价',
        '最优质',
        '最专业',
        '全网/全球首发',
        '全网/全球首款',
        'XX网独家',
        'XX网首发',
        '国家',
        '遥遥领先',
        '优秀',
        '精确',
        '国家级品牌',
        '绝对值',
        '实验证明',
        '超凡',
        '超强',
        '全面',
        '健康',
        '奢华',
        '包邮',
        '全场',
        '免运费',
        '迷情',
        '修复',
        '高效',
        '全效',
        '强效',
        '速效',
        '速白',
        '带来好运气，增强第六感',
        '化解小人',
        '增加事业运',
        '招财进宝',
        '健康富贵',
        '提升运气',
        '有助事业',
        '护身',
        '平衡正负能量',
        '消除精神压力',
        '调和气压',
        '逢凶化吉',
        '时来运转',
        '万事亨通',
        '旺人',
        '旺财',
        '助吉避凶',
        '转富招福',
        '无副作用',
        '零风险',
        '无事故',
        '无依赖',
        '日减',
        '秘方',
        '科学研究发现',
        '代替',
        '替代',
        '辅助降',
        '辅助改善',
        '辅助保护',
        '增强免疫',
        '骨密度',
        '营养性',
        '促进消化',
        '专业医用',
        '无痛',
        '原价',
    ];

    /**
     * 极限词检测
     *
     * @param string $content 要检测的内容
     *
     * @throws AdvertisementLimitException
     */
    public function checkLimitWords(string $content): void
    {
        $words = [];
        foreach (self::$limitWords as $limitWord) {
            if (false !== mb_strpos($content, $limitWord)) {
                $words[] = $limitWord;
            }
        }

        if ([] !== $words) {
            $e = new AdvertisementLimitException('您的输入带有极限词，请检查并确认：' . implode('、', $words));
            $e->words = $words;
            throw $e;
        }
    }
}
